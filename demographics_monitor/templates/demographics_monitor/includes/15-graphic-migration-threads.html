<script>
    Highcharts.chart('container15', {
        chart: {
            type: 'column'
        },
        title: {
            text: 'Сельская местность, {{ years|first }}—{{ years|last }} гг.',
            align: 'center'
        },
        subtitle: {
            text: 'Источник: <a target="_blank" ' + 'href="https://rosstat.gov.ru/">Федеральная служба государственной статистики</a>',
            align: 'left',
            style: {
                        color: 'black'
                    }
        },
        xAxis: {
            labels: {
                style: {
                    color: 'black'
                }
            },
            categories: {{ years|safe }},
            crosshair: true,
            accessibility: {
                description: 'Countries'
            }
        },
        yAxis: {
            min: 0,
            labels: {
                formatter: function() {
                        return this.value; // Возвращает значение метки без изменений
                    },
                style: {
                    color: 'black'
                }
            },
            title: {
                text: 'человек',
                style: {
                        color: 'black'
                    }
            }
        },
        tooltip: {
            valueSuffix: ' человек'
        },
        plotOptions: {
            column: {
                pointPadding: 0.05,
                borderWidth: 0
            }
        },
        series: [
            {
                name: 'Прибывшие (страны СНГ)',
                dataLabels: {
                    enabled: true,
                    y: -20, // Смещение по вертикали для лучшего отображения
                    verticalAlign: 'top' // Выравнивание по верхнему краю столбца
                },
                data: {{ values.20|safe }},
                color: '#71a0b2'
            },
            {
                name: 'Прибывшие (страны дальнего зарубежья)',
                dataLabels: {
                    enabled: true,
                    y: -20, // Смещение по вертикали для лучшего отображения
                    verticalAlign: 'top' // Выравнивание по верхнему краю столбца
                },
                data: {{ values.23|safe }},
                color: '#71a0b2'
            },
            {
                name: 'Прибывшие (международная миграция)',
                type: 'line',
                dataLabels: {
                    enabled: true,
                    y: -30, // Смещение по вертикали для лучшего отображения
                    verticalAlign: 'top' // Выравнивание по верхнему краю столбца
                },
                data: {{ values.17|safe }},
                color: '#71a0b2'
            }
        ]
    });
</script>